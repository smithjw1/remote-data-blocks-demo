{
  "$schema": "https://playground.wordpress.net/blueprint-schema.json",
  "meta": {
    "title": "Block Demo",
    "description": "Installs plugins to demo blocks.",
    "author": "WordPress VIP",
    "categories": [
      "Content"
    ]
  },
  "features": {
    "networking": true
  },
  "landingPage": "/wp-admin/post-new.php",
  "login": true,
  "preferredVersions": {
    "php": "8.2",
    "wp": "latest"
  },
  "steps": [
    {
      "step": "defineWpConfigConsts",
      "consts": {
        "USE_PLAYGROUND_CORS_PROXY": true
      }
    },
    {
      "step": "installPlugin",
      "options": {
        "activate": true,
        "targetFolderName": "remote-data-blocks"
      },
      "pluginData": {
        "caption": "Installing Remote Data Blocks",
        "resource": "url",
        "url": "https://github-proxy.com/proxy/?repo=Automattic/remote-data-blocks&release=latest&asset=remote-data-blocks.zip"
      }
    },
    {
      "step": "runPHP",
      "code": "<?php require_once 'wordpress/wp-load.php'; require_once 'wordpress/wp-content/plugins/remote-data-blocks/inc/WpdbStorage/DataSourceCrud.php'; use RemoteDataBlocks\\WpdbStorage\\DataSourceCrud; $airtable_config = ['service' => 'airtable', 'service_config' => ['base_id' => 'appHWR6MHe90igNWN', 'table_name' => 'tblGtk5XwzXMG70Ci', 'api_key' => 'patatQ1Vsos9udlV4.bfcfe7e8cbd48c292131f2b13829abceb1920fc8f84c7b00efad9d07f4232259']]; $result = DataSourceCrud::create_config($airtable_config); if (is_wp_error($result)) { echo 'Failed to create Airtable data source: ' . $result->get_error_message() . '\n'; } else { echo 'Successfully created Airtable data source with UUID: ' . $result['uuid'] . '\n'; }"
    },
    {
      "step": "writeFile",
      "path": "/wordpress/wp-content/plugins/api-monster.php",
      "data": {
        "resource": "url",
        "url": "https://raw.githubusercontent.com/smithjw1/remote-data-blocks-demo/trunk/api-monster.php"
      }
    },
    {
      "step": "activatePlugin",
      "pluginPath": "api-monster.php"
    },
    {
      "step": "importWxr",
      "file": {
        "resource": "url",
        "url": "https://raw.githubusercontent.com/smithjw1/remote-data-blocks-demo/trunk/content.xml"
      }
    }
  ]
}
